<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>WebXStudio Tasks</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        /* –í–ê–ñ–ù–û: –í–µ—Å—å CSS-–∫–æ–¥ –±—É–¥–µ—Ç –∑–¥–µ—Å—å */
        /* –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–µ–∫—Ü–∏—é 2 –Ω–∏–∂–µ –¥–ª—è —Å—Ç–∏–ª–µ–π */
        :root {
            /* –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ü–≤–µ—Ç–∞ —Ç–µ–∫—Å—Ç–∞ –∏ –∫–Ω–æ–ø–æ–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
            --tg-text-color: #000000;
            --tg-bg-color: #FFFFFF;
            --tg-secondary-bg-color: #F8F8F8;
            --tg-button-color: #007AFF; 
            --tg-button-text-color: #FFFFFF;
        }

        /* --- –û–±—â–∏–µ —Å—Ç–∏–ª–∏ –∏ —Å–±—Ä–æ—Å --- */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            padding: 0 0 70px 0; /* –û—Ç—Å—Ç—É–ø –¥–ª—è –Ω–∏–∂–Ω–µ–≥–æ –º–µ–Ω—é */
            background-color: var(--tg-theme-bg-color, var(--tg-bg-color));
            color: var(--tg-theme-text-color, var(--tg-text-color));
            overflow-x: hidden;
            -webkit-user-select: none; /* –ó–∞–ø—Ä–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–∏—è –Ω–∞ iOS */
            user-select: none;
            min-height: 100vh;
        }

        /* --- –®–∞–±–ª–æ–Ω—ã –∏–∑ –≤–∞—à–∏—Ö —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ --- */
        
        .header {
            display: flex;
            align-items: center;
            padding: 15px;
            font-size: 17px;
            font-weight: 600;
            line-height: 22px;
            color: var(--tg-theme-text-color);
        }
        .header .back-arrow {
            font-size: 24px;
            margin-right: 15px;
            cursor: pointer;
        }
        
        .content-section {
            padding: 0 15px;
        }
        
        /* –°—Ç–∏–ª—å –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è (–∫–∞—Ä—Ç–æ—á–∫–∏) */
        .task-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid var(--tg-theme-secondary-bg-color, #EFEFEF);
            cursor: pointer;
        }
        .task-info {
            line-height: 1.4;
        }
        .task-title {
            font-weight: 500;
            margin-bottom: 2px;
        }
        .task-price {
            font-weight: 600;
            color: #4CAF50; /* –ó–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç –¥–ª—è —Ü–µ–Ω—ã */
        }
        .task-detail-icon {
            font-size: 24px;
            color: #C7C7CC; /* –°–≤–µ—Ç–ª–æ-—Å–µ—Ä—ã–π —Ü–≤–µ—Ç */
        }
        .task-tool {
            font-size: 13px;
            color: #9C9C9C;
        }
        
        /* –°—Ç–∏–ª—å –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–í—ã–ø–æ–ª–Ω–∏—Ç—å" –Ω–∞ —ç–∫—Ä–∞–Ω–µ –¥–µ—Ç–∞–ª–µ–π */
        .action-button-large {
            width: calc(100% - 30px);
            position: fixed;
            bottom: 70px; /* –ù–∞–¥ –Ω–∏–∂–Ω–∏–º –º–µ–Ω—é */
            left: 15px;
            padding: 15px;
            background-color: var(--tg-theme-button-color, #007AFF);
            color: var(--tg-theme-button-text-color, #FFFFFF);
            border: none;
            border-radius: 12px;
            font-size: 17px;
            font-weight: 600;
            text-align: center;
            cursor: pointer;
        }
        
        /* --- –ö–æ—à–µ–ª–µ–∫ --- */
        .wallet-header {
            text-align: center;
            padding: 20px 0 10px 0;
        }
        .wallet-balance {
            font-size: 40px;
            font-weight: 700;
            margin: 10px 0;
        }
        .wallet-actions {
            display: flex;
            justify-content: space-around;
            padding: 15px 0;
            border-bottom: 1px solid var(--tg-theme-secondary-bg-color, #EFEFEF);
        }
        .wallet-action-item {
            text-align: center;
            cursor: pointer;
            font-size: 14px;
            color: var(--tg-theme-link-color, #007AFF);
        }
        .wallet-action-item .icon {
            font-size: 24px;
            margin-bottom: 5px;
        }
        .transaction-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid var(--tg-theme-secondary-bg-color, #EFEFEF);
        }
        .transaction-info .date {
            font-size: 13px;
            color: #9C9C9C;
        }
        .transaction-amount {
            font-weight: 600;
        }
        .transaction-card {
            font-size: 13px;
            color: #9C9C9C;
            text-align: right;
        }
        .mir-logo {
            color: #007AFF; /* –ò–º–∏—Ç–∞—Ü–∏—è –ª–æ–≥–æ –ú–ò–† */
            font-weight: bold;
        }
        
        /* --- –ù–∏–∂–Ω–µ–µ –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–µ –ú–µ–Ω—é --- */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: space-around;
            align-items: center;
            height: 60px;
            background-color: var(--tg-theme-secondary-bg-color, #F8F8F8);
            border-top: 1px solid #D1D1D1;
            box-shadow: 0 -2px 5px rgba(0,0,0,0.05);
        }
        .nav-item {
            text-align: center;
            color: #9C9C9C;
            cursor: pointer;
        }
        .nav-item.active {
            color: var(--tg-theme-text-color);
            font-weight: 600;
        }
        .nav-icon {
            font-size: 24px;
        }

    </style>
</head>
<body>

    <div id="screen-tasks" class="content-section" style="display: block;">
        <h2>–ù–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è</h2>
        <div class="task-list">
            <div class="task-item">
                <div class="task-info">
                    <div class="task-title">–°–¥–µ–ª–∞—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é</div>
                    <div class="task-tool">–§–æ—Ç–æ –¥–µ—Ä–µ–≤–∞ ‚Ä¢ –°–µ–≥–æ–¥–Ω—è 520 ‚ÇΩ ‚Ä¢ —Å—Ñ–æ—Ç–∫–∞–π—Ç–µ –ø–æ–ø–∫—É</div>
                </div>
                <div class="task-detail-icon">‚Üí</div>
            </div>
            <div class="task-item">
                <div class="task-info">
                    <div class="task-title">–°–¥–µ–ª–∞—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é</div>
                    <div class="task-tool">–§–æ—Ç–æ –≥–∞–∑–æ–Ω–∞ ‚Ä¢ –°–µ–≥–æ–¥–Ω—è 640 ‚ÇΩ ‚Ä¢–ø–æ–ø–∞ –∏ –∫–∞–∫—É–ª—å–∫–∞</div>
                </div>
                <div class="task-detail-icon">‚Üí</div>
            </div>
            <div class="task-item">
                <div class="task-info">
                    <div class="task-title">–°–¥–µ–ª–∞—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é</div>
                    <div class="task-tool">–§–æ—Ç–æ –∫–Ω–∏–≥–∏ ‚Ä¢ –°–µ–≥–æ–¥–Ω—è 350 ‚ÇΩ ‚Ä¢ –≥—Ä–∞–ø–∞–ø–∞—É</div>
                </div>
                <div class="task-detail-icon">‚Üí</div>
            </div>
            </div>
    </div>
    
    <div id="screen-wallet" style="display: none;">
        <div class="header">
            –ö–æ—à–µ–ª—ë–∫
        </div>
        <div class="wallet-header">
            –ë–∞–ª–∞–Ω—Å:
            <div class="wallet-balance">8 950 ‚ÇΩ</div>
            <span style="font-size: 20px;">üëÅÔ∏è</span> </div>
        
        <div class="wallet-actions">
            <div class="wallet-action-item" onclick="sendMoney()">
                <div class="icon">‚Üë</div>
                –û—Ç–ø—Ä–∞–≤–∏—Ç—å
            </div>
            <div class="wallet-action-item" onclick="addMoney()">
                <div class="icon">+</div>
                –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∫–≤–∏–∑–∏—Ç—ã
            </div>
            <div class="wallet-action-item" onclick="settings()">
                <div class="icon">...</div>
                –ù–∞—Å—Ç—Ä–æ–π–∫–∏
            </div>
        </div>
        
        <div class="content-section">
            <h3 style="margin-top: 20px;">–û–ø–µ—Ä–∞—Ü–∏–∏</h3>
            <div class="transaction-list">
                <div class="transaction-item">
                    <div>
                        <div class="transaction-amount" style="color: #4CAF50;">+ 8 950 ‚ÇΩ</div>
                        <div class="transaction-info">7 –∞–≤–≥. 12:46</div>
                    </div>
                    <div class="transaction-card">
                        **** 2843<br><span class="mir-logo">–ú–ò–†</span>
                    </div>
                </div>
                <div class="transaction-item">
                    <div>
                        <div class="transaction-amount" style="color: #4CAF50;">+ 2 350 ‚ÇΩ</div>
                        <div class="transaction-info">5 –∞–≤–≥. 18:30</div>
                    </div>
                    <div class="transaction-card">
                        **** 2843<br><span class="mir-logo">–ú–ò–†</span>
                    </div>
                </div>
                </div>
        </div>
        
        <div class="action-button-large" onclick="initiateWithdrawal()" style="background-color: #007AFF;">
            –ó–∞–ø—Ä–æ—Å–∏—Ç—å –≤—ã–≤–æ–¥
        </div>
    </div>
    
    <div class="bottom-nav">
        <div class="nav-item active" onclick="showScreen('tasks')">
            <div class="nav-icon">‚ò∞</div> </div>
        <div class="nav-item" onclick="showScreen('home')">
            <div class="nav-icon">üè†</div> </div>
        <div class="nav-item" onclick="showScreen('wallet')">
            <div class="nav-icon">üí≥</div> </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.ready();
        
        // --- –õ–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —ç–∫—Ä–∞–Ω–æ–≤ ---
        function showScreen(screenName) {
            document.getElementById('screen-tasks').style.display = 'none';
            document.getElementById('screen-wallet').style.display = 'none';
            
            if (screenName === 'tasks') {
                document.getElementById('screen-tasks').style.display = 'block';
            } else if (screenName === 'wallet') {
                document.getElementById('screen-wallet').style.display = 'block';
            }
            // –û–±–Ω–æ–≤–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π —Å—Ç–∞—Ç—É—Å –≤ –Ω–∏–∂–Ω–µ–º –º–µ–Ω—é
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
            // –ó–¥–µ—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ª–æ–≥–∏–∫–∞ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–ª–∞—Å—Å–∞ 'active' –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç
        }
        
        // --- –ò–º–∏—Ç–∞—Ü–∏—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏ (–¥–ª—è –∫–Ω–æ–ø–∫–∏ "–í—ã–ø–æ–ª–Ω–∏—Ç—å" –Ω–∞ —ç–∫—Ä–∞–Ω–µ –¥–µ—Ç–∞–ª–µ–π) ---
        function performTask(taskId) {
            // –°–∫—Ä—ã—Ç—å —Ç–µ–∫—É—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç
            document.body.innerHTML = `
                <div style="text-align: center; padding-top: 100px;">
                    <h2>–°–¥–µ–ª–∞—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é</h2>
                    <p style="font-size: 20px; color: #4CAF50;">520 ‚ÇΩ</p>
                    <div style="margin-top: 50px;">
                        <p>–§–æ—Ç–æ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏...</p>
                        </div>
                </div>
            `;
            
            // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –±–æ—Ç—É
            setTimeout(() => {
                const completionData = JSON.stringify({ action: "task_complete", task_id: taskId });
                tg.sendData(completionData);
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ, –ø–æ—Å–ª–µ —É—Å–ø–µ—Ö–∞, Backend –æ–±–Ω–æ–≤–∏—Ç –±–∞–ª–∞–Ω—Å, 
                // –∏ Web App –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç –Ω–∞ "–ö–æ—à–µ–ª–µ–∫" –∏–ª–∏ –ø–æ–∫–∞–∂–µ—Ç —É—Å–ø–µ—Ö.
                alert("–ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –∏ —Å—Ä–µ–¥—Å—Ç–≤–∞ –∑–∞—á–∏—Å–ª–µ–Ω—ã!");
                window.location.reload(); // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã
            }, 5000); 
        }

        // --- –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞ –≤—ã–≤–æ–¥–∞ ---
        function initiateWithdrawal() {
            alert("–ó–∞–ø—Ä–æ—Å –Ω–∞ –≤—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤ –ø—Ä–∏–Ω—è—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è...");
            // –ó–¥–µ—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ Backend –∏ –∏–º–∏—Ç–∞—Ü–∏—è —Å–ø–∏—Å–∞–Ω–∏—è
        }
        
        // --- –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Ç–µ–º—ã Telegram ---
        if (tg.themeParams) {
            document.documentElement.style.setProperty('--tg-text-color', tg.themeParams.text_color);
            document.documentElement.style.setProperty('--tg-bg-color', tg.themeParams.bg_color);
            document.documentElement.style.setProperty('--tg-secondary-bg-color', tg.themeParams.secondary_bg_color);
            document.documentElement.style.setProperty('--tg-button-color', tg.themeParams.button_color);
            document.documentElement.style.setProperty('--tg-button-text-color', tg.themeParams.button_text_color);
        }
        
        // –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω –ó–∞–¥–∞–Ω–∏–π
        showScreen('tasks'); 
    </script>
</body>
</html>

